<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<title>Video Player</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
* {
  box-sizing: border-box;
  font-family: Arial, sans-serif;
}

html, body {
  margin: 0;
  height: 100%;
  background: #0b0b0b;
  color: white;
}

/* Abas */
nav {
  display: flex;
  background: #111;
}

nav button {
  flex: 1;
  padding: 12px;
  background: none;
  border: none;
  color: #aaa;
  font-size: 14px;
}

nav button.active {
  color: white;
  border-bottom: 2px solid #1e90ff;
}

/* Telas */
section {
  display: none;
  padding: 16px;
}

section.active {
  display: block;
}

/* Home */
#home h1 {
  margin-top: 20px;
  font-size: 22px;
}

#home p {
  color: #bbb;
}

/* Player */
#playerBox {
  display: flex;
  gap: 6px;
  margin-bottom: 10px;
}

#link {
  flex: 1;
  padding: 10px;
  border-radius: 6px;
  border: none;
}

#abrir {
  padding: 10px 14px;
  background: #1e90ff;
  border: none;
  border-radius: 6px;
  color: white;
}

video {
  width: 100%;
  height: 55vh;
  background: black;
}

/* Histórico */
ul {
  list-style: none;
  padding: 0;
}

li {
  background: #151515;
  padding: 10px;
  margin-bottom: 8px;
  border-radius: 6px;
  font-size: 13px;
  overflow: hidden;
  white-space: nowrap;
  text-overflow: ellipsis;
}
</style>
</head>

<body>

<nav>
  <button class="active" onclick="trocarAba('home', this)">Início</button>
  <button onclick="trocarAba('player', this)">Player</button>
  <button onclick="trocarAba('historico', this)">Últimos links</button>
</nav>

<section id="home" class="active">
  <h1>Video Player</h1>
  <p>Reproduza vídeos por link direto.<br>
  Seu histórico fica salvo automaticamente.</p>
</section>

<section id="player">
  <div id="playerBox">
    <input id="link" placeholder="Cole o link do vídeo">
    <button id="abrir" onclick="abrirVideo()">Abrir</button>
  </div>
  <video id="video" controls playsinline></video>
</section>

<section id="historico">
  <h3>Últimos links</h3>
  <ul id="lista"></ul>
</section>

<script>
const video = document.getElementById("video");
const campo = document.getElementById("link");
const lista = document.getElementById("lista");

function trocarAba(id, btn) {
  document.querySelectorAll("section").forEach(s => s.classList.remove("active"));
  document.getElementById(id).classList.add("active");

  document.querySelectorAll("nav button").forEach(b => b.classList.remove("active"));
  btn.classList.add("active");
}

function abrirVideo(linkManual) {
  const link = linkManual || campo.value.trim();
  if (!link) return;

  video.src = link;
  video.play();

  salvarHistorico(link);
  atualizarLista();
}

function salvarHistorico(link) {
  let h = JSON.parse(localStorage.getItem("historico")) || [];
  h = h.filter(l => l !== link);
  h.unshift(link);
  h = h.slice(0, 10);
  localStorage.setItem("historico", JSON.stringify(h));
}

function atualizarLista() {
  lista.innerHTML = "";
  let h = JSON.parse(localStorage.getItem("historico")) || [];

  h.forEach(link => {
    const li = document.createElement("li");
    li.textContent = link;
    li.onclick = () => {
      campo.value = link;
      trocarAba("player", document.querySelectorAll("nav button")[1]);
      abrirVideo(link);
    };
    lista.appendChild(li);
  });
}

window.onload = atualizarLista;
</script>

</body>
</html>
